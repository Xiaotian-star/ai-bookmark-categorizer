<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h2>AI 书签分类</h2>
    
    <div class="api-settings">
      <div class="api-input-group">
        <input type="password" id="apiKey" placeholder="输入 Google Gemini API 密钥">
        <button id="toggleApiKey" class="icon-btn" title="显示/隐藏密钥">👁️</button>
        <button id="copyApiKey" class="icon-btn" title="复制密钥">📋</button>
      </div>
      <button id="saveApiKey">保存密钥</button>
      <button id="showTutorial" class="tutorial-btn">查看教程</button>
      <span id="apiStatus" class="status"></span>
    </div>

    <div id="tutorial" class="tutorial hidden">
      <h3>🔑 API 密钥申请教程</h3>
      
      <div class="tutorial-section">
        <h4>步骤一：准备工作</h4>
        <ul>
          <li>确保你有一个 Google 账号</li>
          <li>无需信用卡，免费额度足够使用</li>
        </ul>
      </div>

      <div class="tutorial-section">
        <h4>步骤二：获取 API 密钥</h4>
        <ul>
          <li>1. 访问：<a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a></li>
          <li>2. 使用 Google 账号登录</li>
          <li>3. 点击 "Create API key" 按钮</li>
          <li>4. 复制生成的 API 密钥</li>
        </ul>
      </div>

      <div class="tutorial-section">
        <h4>步骤三：使用说明</h4>
        <ul>
          <li>1. 将密钥粘贴到上方输入框</li>
          <li>2. 点击"保存密钥"按钮</li>
          <li>3. 看到"密钥保存成功"即可使用</li>
        </ul>
      </div>

      <div class="tutorial-section">
        <h4>注意事项</h4>
        <ul>
          <li>✨ 免费额度：每分钟 60 次请求</li>
          <li>🔒 请勿分享密钥给他人</li>
          <li>🔄 建议定期更换密钥</li>
        </ul>
      </div>

      <button id="closeTutorial" class="secondary">关闭教程</button>
    </div>

    <div class="controls">
      <button id="startBtn">开始智能分类</button>
      <button id="flattenBtn" class="secondary">打散所有文件夹</button>
      <button id="cleanDuplicatesBtn" class="secondary">清理重复书签</button>
      <div id="progress" class="hidden">
        <div class="progress-info">
          <span id="status">准备中...</span>
          <span id="percentage">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
        <div class="progress-detail">
          <span id="processedCount">0</span> / <span id="totalCount">0</span> 个书签
        </div>
      </div>
    </div>
    <div id="results" class="hidden">
      <h3>分类结果:</h3>
      <ul id="categoryList"></ul>
    </div>
  </div>
  <script src="popup.js"></script>
</body>
</html> 